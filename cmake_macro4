cmake -G Ninja ../llvm \
-DBUILD_SHARED_LIBS:BOOL=OFF \
-DLIB_INSTALL_DIR=%{_libdir} \
-DLIB_SUFFIX=64 \
-DLLVM_LIBDIR_SUFFIX=64 \
-DCMAKE_AR=/usr/bin/gcc-ar \
-DCMAKE_BUILD_TYPE=Release \
-DCMAKE_C_COMPILER=gcc \
-DCMAKE_CXX_COMPILER=g++ \
-DCMAKE_INSTALL_LIBDIR=%{_libdir} \
-DCMAKE_INSTALL_PREFIX=/usr \
-DCMAKE_INSTALL_SBINDIR=%{_sbindir} \
-DCMAKE_JOB_POOL_COMPILE="full_jobs" \
-DCMAKE_JOB_POOL_LINK=full_jobs \
-DCMAKE_JOB_POOLS="full_jobs=10" \
-DCMAKE_NM=/usr/bin/gcc-nm \
-DCMAKE_RANLIB=/usr/bin/gcc-ranlib \
-DCMAKE_VERBOSE_MAKEFILE:BOOL=ON \
-DCMAKE_C_FLAGS="-O3 -flto=6 --param=lto-max-streaming-parallelism=6 -ffat-lto-objects -fuse-ld=bfd -fuse-linker-plugin -march=native -mtune=native -Wall -Wl,-O2 -falign-functions=32 -flimit-function-alignment -fasynchronous-unwind-tables -fdevirtualize-at-ltrans -malign-data=cacheline -pipe -fPIC -Wl,--sort-common -fno-stack-protector -fgraphite-identity -floop-nest-optimize -ftree-loop-distribute-patterns -ftree-loop-vectorize -ftree-vectorize -funroll-loops -fomit-frame-pointer" \
-DCMAKE_CXX_FLAGS="-O3 -flto=6 --param=lto-max-streaming-parallelism=6 -ffat-lto-objects -fuse-ld=bfd -fuse-linker-plugin -march=native -mtune=native -Wall -Wl,-O2 -falign-functions=32 -flimit-function-alignment -fasynchronous-unwind-tables -fdevirtualize-at-ltrans -malign-data=cacheline -fvisibility-inlines-hidden -pipe -fPIC -Wl,--sort-common -fno-stack-protector -fgraphite-identity -floop-nest-optimize -ftree-loop-distribute-patterns -ftree-loop-vectorize -ftree-vectorize -funroll-loops -fomit-frame-pointer" \
-DCMAKE_EXE_LINKER_FLAGS="-O3 -flto=6 --param=lto-max-streaming-parallelism=6 -ffat-lto-objects -fuse-ld=bfd -fuse-linker-plugin -march=native -mtune=native -Wall -Wl,-O2 -falign-functions=32 -flimit-function-alignment -fasynchronous-unwind-tables -fdevirtualize-at-ltrans -malign-data=cacheline -pipe -fPIC -Wl,--sort-common -fno-stack-protector -fgraphite-identity -floop-nest-optimize -ftree-loop-distribute-patterns -ftree-loop-vectorize -ftree-vectorize -funroll-loops -fomit-frame-pointer" \
-DCMAKE_MODULE_LINKER_FLAGS="-O3 -flto=6 --param=lto-max-streaming-parallelism=6 -ffat-lto-objects -fuse-ld=bfd -fuse-linker-plugin -march=native -mtune=native -Wall -Wl,-O2 -falign-functions=32 -flimit-function-alignment -fasynchronous-unwind-tables -fdevirtualize-at-ltrans -malign-data=cacheline -pipe -fPIC -Wl,--sort-common -fno-stack-protector -fgraphite-identity -floop-nest-optimize -ftree-loop-distribute-patterns -ftree-loop-vectorize -ftree-vectorize -funroll-loops -fomit-frame-pointer" \
-DCMAKE_SHARED_LINKER_FLAGS="-O3 -flto=6 --param=lto-max-streaming-parallelism=6 -ffat-lto-objects -fuse-ld=bfd -fuse-linker-plugin -march=native -mtune=native -Wall -Wl,-O2 -falign-functions=32 -flimit-function-alignment -fasynchronous-unwind-tables -fdevirtualize-at-ltrans -malign-data=cacheline -pipe -fPIC -Wl,--sort-common -fno-stack-protector -fgraphite-identity -floop-nest-optimize -ftree-loop-distribute-patterns -ftree-loop-vectorize -ftree-vectorize -funroll-loops -fomit-frame-pointer" \
-DENABLE_LINKER_BUILD_ID:BOOL=ON \
-DLIBCLANG_BUILD_STATIC:BOOL=ON \
-DCLANG_BUILD_TOOLS:BOOL=ON \
-DCLANG_DEFAULT_CXX_STDLIB="libstdc++" \
-DCLANG_DEFAULT_RTLIB="libgcc" \
-DCLANG_DEFAULT_UNWINDLIB="libgcc" \
-DCLANG_ENABLE_STATIC_ANALYZER:BOOL=ON \
-DCLANG_INCLUDE_TESTS:BOOL=OFF \
-DCLANG_LINK_CLANG_DYLIB:BOOL=OFF \
-DLLVM_LINK_LLVM_DYLIB:BOOL=OFF \
-DLLVM_BUILD_LLVM_DYLIB:BOOL=ON \
-DCOMPILER_RT_BUILD_SANITIZERS:BOOL=OFF \
-DCOMPILER_RT_BUILD_XRAY:BOOL=OFF \
-DFFI_INCLUDE_DIR=`pkg-config --variable=includedir libffi` \
-DLLVM_BINUTILS_INCDIR=/usr/include \
-DLLVM_BUILD_EXAMPLES:BOOL=OFF \
-DLLVM_BUILD_RUNTIME:BOOL=ON \
-DLLVM_BUILD_TOOLS:BOOL=ON \
-DLLVM_ENABLE_ASSERTIONS:BOOL=OFF \
-DLLVM_ENABLE_BINDINGS:BOOL=OFF \
-DLLVM_ENABLE_DOXYGEN:BOOL=OFF \
-DLLVM_ENABLE_EH:BOOL=ON \
-DLLVM_ENABLE_FFI:BOOL=ON \
-DLLVM_ENABLE_LIBCXX:BOOL=OFF \
-DLLVM_ENABLE_LIBXML2:BOOL=ON \
-DLLVM_ENABLE_PIC=ON \
-DLLVM_ENABLE_RTTI:BOOL=ON \
-DLLVM_ENABLE_THREADS:BOOL=ON \
-DLLVM_ENABLE_Z3_SOLVER:BOOL=ON \
-DLLVM_ENABLE_ZLIB:BOOL=ON \
-DLLVM_HOST_TRIPLE="x86_64-generic-linux" \
-DLLVM_INCLUDE_TESTS:BOOL=OFF \
-DLLVM_INCLUDE_TOOLS:BOOL=ON \
-DLLVM_INSTALL_UTILS:BOOL=ON \
-DLLVM_OPTIMIZED_TABLEGEN:BOOL=ON \
-DLLVM_REQUIRES_RTTI:BOOL=ON \
-DLLVM_STATIC_LINK_CXX_STDLIB:BOOL=ON \
-DLLVM_TARGETS_TO_BUILD="Native" \
-DLLVM_TOOL_CLANG_TOOLS_EXTRA_BUILD:BOOL=ON \
-DLLVM_TOOL_COMPILER_RT_BUILD:BOOL=OFF \
-DLLVM_USE_LINKER:STRING="bfd" \
-DPYTHON_EXECUTABLE:FILEPATH=/usr/bin/python3 \
-DLLVM_ENABLE_PLUGINS:BOOL=ON \
-DLLVM_EXPORT_SYMBOLS_FOR_PLUGINS:BOOL=ON \
-DLLVM_ENABLE_PROJECTS="llvm;clang;clang-tools-extra;lld" \
-Wno-dev
